<h2 class="dialog-title">Editar Perfil</h2>

<form [formGroup]="perfilForm" (ngSubmit)="guardarCambios()" class="perfil-form">
  <mat-form-field appearance="fill" class="form-field">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="form-field">
    <mat-label>Apellido</mat-label>
    <input matInput formControlName="apellido" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="form-field">
    <mat-label>URL de Foto</mat-label>
    <input matInput formControlName="foto" />
  </mat-form-field>

  <div class="preview-container" *ngIf="perfilForm.get('foto')?.value">
    <p class="preview-text">Previsualización:</p>
    <img [src]="perfilForm.get('foto')?.value" alt="Foto de perfil" class="preview-img" />
  </div>

  <mat-form-field appearance="fill" class="form-field">
    <mat-label>Biografía</mat-label>
    <textarea matInput rows="3" formControlName="bio"></textarea>
  </mat-form-field>

  <div class="actions">
    <button mat-raised-button color="primary" type="submit" [disabled]="perfilForm.invalid">Guardar</button>
    <button mat-button type="button" (click)="cancelar()">Cancelar</button>
  </div>
</form>
